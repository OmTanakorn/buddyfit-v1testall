{% extends '_base.html' %}
{% load static %}

{% block title %}Push UP{% endblock title %}

{% block content %}

<div class="HQ_container">
  
  <div class="game-container" >
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.54.0/dist/phaser.min.js"></script>
    <div id="game-container" ></div>
    <script src="{% static 'js/gamePush.js'%}"></script>
  </div>

  <div class= "Mediapipe-container">
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils@0.1/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils@0.1/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils@0.2/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/pose@0.2/pose.js" crossorigin="anonymous"></script>

    <canvas class="output" width="500px" height="500px"></canvas>
      <video class="input_video" width="0px" height="0px"></video>            
      <div class="loading">
        <div class="spinner"></div>
      </div>
      <div style="visibility: hidden" class="control">
      </div>

    <script src="../static/js/PushUp.js"></script>
    <button id="save-button">Done</button>

    <div id="countdown"></div>
    

<script>
  // สร้างฟังก์ชัน updateCountdown ในไฟล์ pushup.html เพื่อแสดงค่า countdown ในตัวแปร pushupCountdown
  function updateCountdown() {
    const countdownDiv = document.getElementById('countdown');
    const countdown = window.getPushupCountdown();
    if (countdown === 10) {
      countdownDiv.innerText = 'PASS';
    }
  }
  setInterval(updateCountdown, 500);
</script>

  </div>
{% endblock content %}
